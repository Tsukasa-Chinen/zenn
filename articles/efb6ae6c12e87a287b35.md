---
title: "Shopify Theme Kitのコマンド一覧"
emoji: "✨"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ['shopify', 'ec', 'command', 'homebrew']
published: false
---
今度、某案件でShopifyのカスタマイズに初挑戦します。
調べてみたところブラウザエディター上での編集もできるようですが、やはり使い慣れたエディターを使って作業したいと思いローカル環境を構築してみました。
今回はローカル環境構築時に使用した**Shopifyのコマンド**一覧を書いていきます。

::: message alert
私の環境はMacなのでWindowsでの動作チェックは行っていません。
HomebrewとXcodeを使って構築しますので両方とも先にインストールしておくとスムーズです。
:::

# Shopifyとは？ #
簡単にECサイトを作ることができるサービスです。**「SNS連携、SEO対策、グローバル販売などをすべて簡単管理。あなたのショップをさらに使いやすくします。」** とディスクリプションにある通り本当に簡単にできます。
デザインのカスタマイズやTOPページなどの作成も管理画面から簡単に設定できます。

::: message alert
事前にShopifyでショップを作成する必要があります（14日間の無料体験ありますのでそれでOK！）
:::

# Shopifyの管理画面で事前設定と必要な情報をメモする #
先に下記2つの情報を取得するため、Shopifyの管理画面から事前設定を行います。

* APIパスワード
* Theme ID
## ① プライベートアプリを作成する ##
**「アプリ管理 → プライベートアプリを管理する」** をクリックします。
![プライベートアプリを管理する](https://storage.googleapis.com/zenn-user-upload/hvrg5n70a3lrouu3ixjzyb7r90sp)

最初はプライベートアプリは何もありませんので、**「プライベートアプリを作成する」** をクリックして新規に作成します。
![プライベートアプリを作成する](https://storage.googleapis.com/zenn-user-upload/mxs2szts5wpv8658x5lchfweeh4y)

「プライベートアプリ名」と「緊急連絡用開発者メール」を入力。
そして **「非アクティブなAdmin API権限を表示する」** をクリックして展開します。
![非アクティブなAdmin API権限を表示する](https://storage.googleapis.com/zenn-user-upload/mv3owo60sbyg7lwh2mfbq7mmbpmp)

展開されたリスト内にある **「テーマ テーマテンプレートとアセットを表示または管理する」** の項目を **「読み取りおよび書き込み」** に変更します。
※この作業を行わないとテーマのダウンロード・アップロードができませんでした。
![](https://storage.googleapis.com/zenn-user-upload/amy3fwe5bw8y3eeu1agsy23u1f51)

ここまでできましたら、 **「保存する」クリック → 「プライベートアプリを作成する」をクリック** して完了です。

## ② APIパスワードをメモする ##
**プライベートアプリの作成**が完了すると自動的に画面が移動して「APIキー」や「パスワード」などが色々表示されます。この中から **「パスワード」** 控えてください。
![パスワードを控える](https://storage.googleapis.com/zenn-user-upload/28sjnaq3ntapsgapainlekdmu4mj)

::: message alert
パスワードは他者に漏れないようにご注意ください。
:::
これでAPIパスワードは取得できましたので次に進みます。

## ③ デフォルトテーマ「Debut」を複製 ##
初期状態だとデフォルトテーマ「Debut」がアクティブなっていますが、このテーマを複製します。

:::message alert
現在使用中のテーマをそのまま編集するのは危険ですので既存のテーマを複製して、そのテーマで開発作業を進めます。
現在使用中のテーマでなくても開発中はプレビュー確認ができるので作業に支障は生じません。
:::
左サイドバーの「オンラインストア → テーマ」を選択して「現在のテーマ → Debut → アクション」からを「複製」を選択。
すると「テーマライブラリー」の中に「Debutのコピー」とゆう名前のテーマが作られます。
**※テーマ名を変更したい場合は「アクション → 名前の変更」から変更できます。**

テーマの複製ができましたら **「カスタマイズ」** ボタンをクリックしてページを移動します。
![デフォルトテーマを複製してカスタマイズをクリック](https://storage.googleapis.com/zenn-user-upload/rtjxqkff5lte3t0p2qiyo8uo8cwh)

## ④ Theme IDをメモする ##
ページが移動しましたらブラウザ上部に表示されているURLにご注目ください。
`https://xxx.myshopify.com/admin/themes/115540426945/editor` などになっていると思いますので、このURLの **「/themes/」から「/editor」の間にある数字**をメモしておきます。
こちらがテーマIDになります（上記の例だと115540426945がテーマID）
![Theme IDをメモする](https://storage.googleapis.com/zenn-user-upload/e47q02wcv3pysc85a9z33yrp62jt)

Shopifyの管理画面から設定と必要な情報が取得できましたので続いてはターミナル上で操作を行います。

# Theme kitをインストールする（ Theme kit ） #
ターミナルを起動し下記コマンドを入力して**Shopify Theme kit**のインストールを行います。
::: message
Shopify Theme Kitは、Shopifyテーマ開発を支援するコマンドラインツールです。
:::
```
brew tap shopify/shopify
brew install themekit // 再インストールの場合は brew reinstall themekit
```

環境によっては途中で**Xcode**のインストールを求められます。
下記のコマンドでターミナル経由でインストールできるのですが、私の場合はエラーがおきました。
```
xcode-select --install
```
そのため、App Storeから現時点で最新版のXcode 12.1を再インストールすることで解決しました。

# 複製したテーマのファイルを取得する #
先ほど複製したテーマ「Debutのコピー」内のテンプレートファイルを丸ごと取得します。
```
theme get -p=[your-password] -s=[you-store.myshopify.com] -t=[your-theme-id]
```
上記コマンドの **[your-password]を先ほど取得したAPIパスワードに、[you-store.myshopify.com]を自分のショップのアドレスに変更。**
**[your-theme-id]を先ほど控えたテーマIDに置き換えてコマンドを実行**してみてください。
[]は不要です。
```
/*
　設定例：
　API パスワード： 987654321
　ショップURL： hoge.myshopify.com
　テーマID： 11554042694
*/
theme get -p=987654321 -s=hoge.myshopify.com -t=11554042694
```
これで、Shopifyストア上にあるテーマファイルがローカルにダウンロードされ、Shopifyとローカルの接続も確立されます。
なお、好きなディレクトリ内に展開したい場合は事前に`cd`コマンドでディレクトリ移動してから行ってください。
```
/* デスクトップ > shopifyディレクトリを移動する場合 */
cd desktop/shopify/
```



